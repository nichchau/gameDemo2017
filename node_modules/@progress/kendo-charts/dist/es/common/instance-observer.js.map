{"version":3,"file":"instance-observer.js","sources":["instance-observer.js"],"sourcesContent":["import deepExtend from './deep-extend';\n\nconst TRIGGER = 'trigger';\n\nclass InstanceObserver {\n    constructor(observer, handlers) {\n        this.observer = observer;\n        this.handlerMap = deepExtend({}, this.handlerMap, handlers);\n    }\n\n    trigger(name, args) {\n        const { observer, handlerMap } = this;\n        let isDefaultPrevented;\n        if (handlerMap[name]) {\n            isDefaultPrevented = this.callObserver(handlerMap[name], args);\n        } else if (observer[TRIGGER]) {\n            isDefaultPrevented = this.callObserver(TRIGGER, name, args);\n        }\n\n        return isDefaultPrevented;\n    }\n\n    callObserver(fnName, ...args) {\n        return this.observer[fnName].apply(this.observer, args);\n    }\n\n    requiresHandlers(names) {\n        if (this.observer.requiresHandlers) {\n            return this.observer.requiresHandlers(names);\n        }\n\n        for (let idx = 0; idx < names.length; idx++) {\n            if (this.handlerMap[names[idx]]) {\n                return true;\n            }\n        }\n    }\n}\n\nexport default InstanceObserver;"],"names":["const","let","this"],"mappings":"AAAA,OAAO,UAAU,MAAM,eAAe,CAAC;;AAEvCA,GAAK,CAAC,OAAO,GAAG,SAAS,CAAC;;AAE1B,IAAM,gBAAgB,GAAC,AACvB,AAAI,yBAAW,CAAC,QAAQ,EAAE,QAAQ,EAAE;IAChC,AAAI,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,AAAI,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;AACpE,AAAI,CAAC,CAAA;;AAEL,AAAI,2BAAA,OAAO,oBAAA,CAAC,IAAI,EAAE,IAAI,EAAE;IACpB,AAAI,AAAK,AAAyB,OAAA,GAAG,IAAI;QAA7B,IAAA,QAAQ;QAAE,IAAA,UAAU,kBAAtB,AAAU,AAAY,AAAS,AAAC;IAC1C,AAAIC,GAAG,CAAC,kBAAkB,CAAC;IAC3B,AAAI,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE;QACtB,AAAI,kBAAkB,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;IACvE,AAAI,CAAC,MAAM,IAAI,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC9B,AAAI,kBAAkB,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACpE,AAAI,CAAC;;IAEL,AAAI,OAAO,kBAAkB,CAAC;AAClC,AAAI,CAAC,CAAA;;AAEL,AAAI,2BAAA,YAAY,yBAAA,CAAC,MAAM,AAAS,EAAE,CAAC;;;AAAA;IAC/B,AAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAChE,AAAI,CAAC,CAAA;;AAEL,AAAI,2BAAA,gBAAgB,6BAAA,CAAC,KAAK,EAAE,CAAC;;AAAA;IACzB,AAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE;QACpC,AAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;IACrD,AAAI,CAAC;;IAEL,AAAI,KAAKA,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;QAC7C,AAAI,IAAIC,MAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;YACjC,AAAI,OAAO,IAAI,CAAC;QACpB,AAAI,CAAC;IACT,AAAI,CAAC;AACT,AAAI,CAAC,CAAA,AACJ;;AAED,eAAe,gBAAgB"}