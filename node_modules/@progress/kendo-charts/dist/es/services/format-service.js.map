{"version":3,"file":"format-service.js","sources":["format-service.js"],"sourcesContent":["import IntlService from './intl-service';\nimport { FORMAT_REGEX } from '../common/constants';\n\nconst FORMAT_REPLACE_REGEX = /\\{(\\d+)(:[^\\}]+)?\\}/g;\n\nclass FormatService {\n    constructor(intlService) {\n        this._intlService = intlService;\n    }\n\n    get intlService() {\n        return this._intlService || IntlService.implementation;\n    }\n\n    auto(formatString, ...values) {\n        const intl = this.intlService;\n\n        if (formatString.match(FORMAT_REGEX)) {\n            return intl.format(formatString, ...values);\n        }\n\n        return intl.toString(values[0], formatString);\n    }\n\n    localeAuto(formatString, values, locale) {\n        const intl = this.intlService;\n        let result;\n\n        if (formatString.match(FORMAT_REGEX)) {\n            result = formatString.replace(FORMAT_REPLACE_REGEX, function(match, index, placeholderFormat) {\n                let value = values[parseInt(index, 10)];\n\n                return intl.toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\", locale);\n            });\n        } else {\n            result = intl.toString(values[0], formatString, locale);\n        }\n\n        return result;\n    }\n}\n\nexport default FormatService;"],"names":["const","let"],"mappings":"AAAA,OAAO,WAAW,MAAM,gBAAgB,CAAC;AACzC,SAAS,YAAY,QAAQ,qBAAqB,CAAC;;AAEnDA,GAAK,CAAC,oBAAoB,GAAG,sBAAsB,CAAC;;AAEpD,IAAM,aAAa,GAAC,AACpB,AAAI,sBAAW,CAAC,WAAW,EAAE;IACzB,AAAI,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;AACxC,AAAI,CAAC;;6CAAA;;AAEL,AAAI,mBAAA,AAAI,WAAW,gBAAA,GAAG;IAClB,AAAI,OAAO,IAAI,CAAC,YAAY,IAAI,WAAW,CAAC,cAAc,CAAC;AAC/D,AAAI,CAAC,CAAA;;AAEL,AAAI,wBAAA,IAAI,iBAAA,CAAC,YAAY,AAAW,EAAE,CAAC;;;AAAA;IAC/B,AAAIA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;;IAElC,AAAI,IAAI,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;QACtC,AAAI,OAAO,IAAI,CAAC,MAAM,MAAA,CAAC,QAAA,YAAY,WAAE,AAAG,MAAM,EAAA,CAAC,CAAC;IACpD,AAAI,CAAC;;IAEL,AAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;AACtD,AAAI,CAAC,CAAA;;AAEL,AAAI,wBAAA,UAAU,uBAAA,CAAC,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE;IACzC,AAAIA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;IAClC,AAAIC,GAAG,CAAC,MAAM,CAAC;;IAEf,AAAI,IAAI,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;QACtC,AAAI,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,oBAAoB,EAAE,SAAS,KAAK,EAAE,KAAK,EAAE,iBAAiB,EAAE;YAC9F,AAAIA,GAAG,CAAC,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;;YAE5C,AAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,iBAAiB,GAAG,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,CAAC;QACrG,AAAI,CAAC,CAAC,CAAC;IACX,AAAI,CAAC,MAAM;QACP,AAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC;IAChE,AAAI,CAAC;;IAEL,AAAI,OAAO,MAAM,CAAC;AACtB,AAAI,CAAC,CAAA,AACJ;;uEAAA;;AAED,eAAe,aAAa"}