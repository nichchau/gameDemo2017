{"version":3,"file":"clip-animation-mixin.js","sources":["clip-animation-mixin.js"],"sourcesContent":["import { drawing as draw } from '@progress/kendo-drawing';\n\nimport ClipAnimation from '../animations/clip-animation';\nimport anyHasZIndex from '../utils/any-has-z-index';\nimport { defined } from '../../common';\n\nconst ClipAnimationMixin = {\n    createAnimation: function() {\n        const root = this.getRoot();\n        if (root && (root.options || {}).transitions !== false) {\n            const box = root.box;\n            const clipPath = draw.Path.fromRect(box.toRect());\n            this.visual.clip(clipPath);\n            this.animation = new ClipAnimation(clipPath, {\n                box: box\n            });\n            if (anyHasZIndex(this.options.series)) {\n                this._setChildrenAnimation(clipPath);\n            }\n        }\n    },\n\n    _setChildrenAnimation: function(clipPath) {\n        const points = this.animationPoints();\n\n        for (let idx = 0; idx < points.length; idx++) {\n            const point = points[idx];\n            if (point && point.visual && defined(point.visual.options.zIndex)) {\n                point.visual.clip(clipPath);\n            }\n        }\n    }\n};\n\nexport default ClipAnimationMixin;"],"names":["const","let"],"mappings":"AAAA,SAAS,OAAO,IAAI,IAAI,QAAQ,yBAAyB,CAAC;;AAE1D,OAAO,aAAa,MAAM,8BAA8B,CAAC;AACzD,OAAO,YAAY,MAAM,0BAA0B,CAAC;AACpD,SAAS,OAAO,QAAQ,cAAc,CAAC;;AAEvCA,GAAK,CAAC,kBAAkB,GAAG;IACvB,eAAe,EAAE,WAAW;QACxBA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;QAC5B,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,WAAW,KAAK,KAAK,EAAE;YACpDA,GAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YACrBA,GAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAClD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,aAAa,CAAC,QAAQ,EAAE;gBACzC,GAAG,EAAE,GAAG;aACX,CAAC,CAAC;YACH,IAAI,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACnC,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;aACxC;SACJ;KACJ;;IAED,qBAAqB,EAAE,SAAS,QAAQ,EAAE;QACtCA,GAAK,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;;QAEtC,KAAKC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;YAC1CD,GAAK,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;YAC1B,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBAC/D,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC/B;SACJ;KACJ;CACJ,CAAC;;AAEF,eAAe,kBAAkB"}