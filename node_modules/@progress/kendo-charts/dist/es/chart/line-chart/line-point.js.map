{"version":3,"file":"line-point.js","sources":["line-point.js"],"sourcesContent":["import { geometry as geom, Color } from '@progress/kendo-drawing';\n\nimport { ChartElement, TextBox, ShapeElement, Box, Point } from '../../core';\n\nimport PointEventsMixin from '../mixins/point-events-mixin';\nimport NoteMixin from '../mixins/note-mixin';\nimport { LINE_MARKER_SIZE, FADEIN, INITIAL_ANIMATION_DURATION, BORDER_BRIGHTNESS, TOOLTIP_OFFSET } from '../constants';\n\nimport { WHITE, CIRCLE, CENTER, TOP, BOTTOM, LEFT } from '../../common/constants';\nimport { deepExtend, defined, getTemplate, valueOrDefault, getSpacing } from '../../common';\n\nconst ABOVE = \"above\";\nconst BELOW = \"below\";\n\nclass LinePoint extends ChartElement {\n    constructor(value, options) {\n        super();\n\n        this.value = value;\n        this.options = options;\n        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n        this.tooltipTracking = true;\n    }\n\n    render() {\n        const { markers, labels } = this.options;\n\n        if (this._rendered) {\n            return;\n        }\n\n        this._rendered = true;\n\n        if (markers.visible && markers.size) {\n            this.marker = this.createMarker();\n            this.append(this.marker);\n        }\n\n        if (labels.visible) {\n            const labelTemplate = getTemplate(labels);\n            let labelText = this.value;\n            if (labelTemplate) {\n                labelText = labelTemplate({\n                    dataItem: this.dataItem,\n                    category: this.category,\n                    value: this.value,\n                    percentage: this.percentage,\n                    stackValue: this.stackValue,\n                    series: this.series\n                });\n            } else if (labels.format) {\n                labelText = this.formatValue(labels.format);\n            }\n            this.label = new TextBox(labelText,\n                deepExtend({\n                    align: CENTER,\n                    vAlign: CENTER,\n                    margin: {\n                        left: 5,\n                        right: 5\n                    },\n                    zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)\n                }, labels)\n            );\n            this.append(this.label);\n        }\n\n        this.createNote();\n\n        if (this.errorBar) {\n            this.append(this.errorBar);\n        }\n    }\n\n    markerBorder() {\n        const options = this.options.markers;\n        const background = options.background;\n        const border = deepExtend({ color: this.color }, options.border);\n\n        if (!defined(border.color)) {\n            border.color = new Color(background).brightness(BORDER_BRIGHTNESS).toHex();\n        }\n\n        return border;\n    }\n\n    createVisual() {}\n\n    createMarker() {\n        const options = this.options.markers;\n        const marker = new ShapeElement({\n            type: options.type,\n            width: options.size,\n            height: options.size,\n            rotation: options.rotation,\n            background: options.background,\n            border: this.markerBorder(),\n            opacity: options.opacity,\n            zIndex: valueOrDefault(options.zIndex, this.series.zIndex),\n            animation: options.animation,\n            visual: options.visual\n        }, {\n            dataItem: this.dataItem,\n            value: this.value,\n            series: this.series,\n            category: this.category\n        });\n\n        return marker;\n    }\n\n    markerBox() {\n        if (!this.marker) {\n            this.marker = this.createMarker();\n            this.marker.reflow(this._childBox);\n        }\n\n        return this.marker.box;\n    }\n\n    reflow(targetBox) {\n        const { options, aboveAxis } = this;\n        const vertical = options.vertical;\n\n        this.render();\n\n        this.box = targetBox;\n        const childBox = targetBox.clone();\n\n        if (vertical) {\n            if (aboveAxis) {\n                childBox.y1 -= childBox.height();\n            } else {\n                childBox.y2 += childBox.height();\n            }\n        } else {\n            if (aboveAxis) {\n                childBox.x1 += childBox.width();\n            } else {\n                childBox.x2 -= childBox.width();\n            }\n        }\n\n        this._childBox = childBox;\n        if (this.marker) {\n            this.marker.reflow(childBox);\n        }\n\n        this.reflowLabel(childBox);\n\n        if (this.errorBars) {\n            for (let i = 0; i < this.errorBars.length; i++) {\n                this.errorBars[i].reflow(childBox);\n            }\n        }\n\n        if (this.note) {\n            let noteTargetBox = this.markerBox();\n\n            if (!(options.markers.visible && options.markers.size)) {\n                const center = noteTargetBox.center();\n                noteTargetBox = new Box(center.x, center.y, center.x, center.y);\n            }\n\n            this.note.reflow(noteTargetBox);\n        }\n    }\n\n    reflowLabel(box) {\n        const { options, label } = this;\n        let anchor = options.labels.position;\n\n        if (label) {\n            anchor = anchor === ABOVE ? TOP : anchor;\n            anchor = anchor === BELOW ? BOTTOM : anchor;\n\n            label.reflow(box);\n            label.box.alignTo(this.markerBox(), anchor);\n            label.reflow(label.box);\n        }\n    }\n\n    createHighlight() {\n        const markers = this.options.highlight.markers;\n        const defaultColor = this.markerBorder().color;\n        const options = this.options.markers;\n        const size = options.size + (options.border.width || 0) + (markers.border.width || 0);\n\n        const shadow = new ShapeElement({\n            type: options.type,\n            width: size,\n            height: size,\n            rotation: options.rotation,\n            background: markers.color || defaultColor,\n            border: {\n                color: markers.border.color,\n                width: markers.border.width,\n                opacity: valueOrDefault(markers.border.opacity, 1)\n            },\n            opacity: valueOrDefault(markers.opacity, 1)\n        });\n        shadow.reflow(this._childBox);\n\n        return shadow.getElement();\n    }\n\n    highlightVisual() {\n        return (this.marker || {}).visual;\n    }\n\n    highlightVisualArgs() {\n        const marker = this.marker;\n        let visual, rect;\n\n        if (marker) {\n            rect = marker.paddingBox.toRect();\n            visual = marker.visual;\n        } else {\n            const size = this.options.markers.size;\n            const halfSize = size / 2;\n            const center = this.box.center();\n            rect = new geom.Rect([ center.x - halfSize, center.y - halfSize ], [ size, size ]);\n        }\n\n        return {\n            options: this.options,\n            rect: rect,\n            visual: visual\n        };\n    }\n\n    tooltipAnchor() {\n        const markerBox = this.markerBox();\n        const clipBox = this.owner.pane.clipBox();\n        const showTooltip = !clipBox || clipBox.overlaps(markerBox);\n\n        if (showTooltip) {\n            const x = markerBox.x2 + TOOLTIP_OFFSET;\n            const horizontalAlign = LEFT;\n            let y, verticalAlign;\n\n            if (this.aboveAxis) {\n                y = markerBox.y1;\n                verticalAlign = BOTTOM;\n            } else {\n                y = markerBox.y2;\n                verticalAlign = TOP;\n            }\n\n            return {\n                point: new Point(x, y),\n                align: {\n                    horizontal: horizontalAlign,\n                    vertical: verticalAlign\n                }\n            };\n        }\n    }\n\n    formatValue(format) {\n        return this.owner.formatPointValue(this, format);\n    }\n\n    overlapsBox(box) {\n        const markerBox = this.markerBox();\n        return markerBox.overlaps(box);\n    }\n}\n\nLinePoint.prototype.defaults = {\n    vertical: true,\n    markers: {\n        visible: true,\n        background: WHITE,\n        size: LINE_MARKER_SIZE,\n        type: CIRCLE,\n        border: {\n            width: 2\n        },\n        opacity: 1\n    },\n    labels: {\n        visible: false,\n        position: ABOVE,\n        margin: getSpacing(3),\n        padding: getSpacing(4),\n        animation: {\n            type: FADEIN,\n            delay: INITIAL_ANIMATION_DURATION\n        }\n    },\n    notes: {\n        label: {}\n    },\n    highlight: {\n        markers: {\n            border: {\n                color: \"#fff\",\n                width: 2\n            }\n        }\n    },\n    errorBars: {\n        line: {\n            width: 1\n        }\n    }\n};\n\ndeepExtend(LinePoint.prototype, PointEventsMixin);\ndeepExtend(LinePoint.prototype, NoteMixin);\n\nexport default LinePoint;\n"],"names":["const","super","let","this"],"mappings":"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"}