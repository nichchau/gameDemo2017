{"version":3,"file":"base-tooltip.js","sources":["base-tooltip.js"],"sourcesContent":["import { Color } from '@progress/kendo-drawing';\n\nimport { Class, defined, deepExtend, setDefaultOptions, valueOrDefault, getSpacing, styleValue } from '../../common';\nimport { SHOW_TOOLTIP, HIDE_TOOLTIP } from '../constants';\n\nclass BaseTooltip extends Class {\n    constructor(chartService, options) {\n        super();\n\n        this.chartService = chartService;\n        this.options = deepExtend({}, this.options, options);\n    }\n\n    getStyle(options, point) {\n        let { background, border: { color: border } } = options;\n\n        if (point) {\n            const pointColor = point.color || point.options.color;\n            background = valueOrDefault(background, pointColor);\n            border = valueOrDefault(border, pointColor);\n        }\n\n        const padding = getSpacing(options.padding || {}, \"auto\");\n\n        return {\n            backgroundColor: background,\n            borderColor: border,\n            font: options.font,\n            color: options.color,\n            opacity: options.opacity,\n            borderWidth: styleValue(options.border.width),\n            paddingTop: styleValue(padding.top),\n            paddingBottom: styleValue(padding.bottom),\n            paddingLeft: styleValue(padding.left),\n            paddingRight: styleValue(padding.right)\n        };\n    }\n\n    show(options, tooltipOptions, point) {\n        options.format = tooltipOptions.format;\n\n        const style = this.getStyle(tooltipOptions, point);\n        options.style = style;\n\n        if (!defined(tooltipOptions.color) && new Color(style.backgroundColor).percBrightness() > 180) {\n            options.className = \"k-chart-tooltip-inverse\";\n        }\n\n        this.chartService.notify(SHOW_TOOLTIP, options);\n    }\n\n    hide() {\n        if (this.chartService) {\n            this.chartService.notify(HIDE_TOOLTIP);\n        }\n    }\n\n    destroy() {\n        delete this.chartService;\n    }\n}\n\nsetDefaultOptions(BaseTooltip, {\n    border: {\n        width: 1\n    },\n    opacity: 1\n});\n\nexport default BaseTooltip;\n"],"names":["super","let","const"],"mappings":"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"}