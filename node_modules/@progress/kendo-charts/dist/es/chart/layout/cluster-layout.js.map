{"version":3,"file":"cluster-layout.js","sources":["cluster-layout.js"],"sourcesContent":["import { ChartElement } from '../../core';\n\nimport { X, Y } from '../../common/constants';\nimport { setDefaultOptions } from '../../common';\n\nclass ClusterLayout extends ChartElement {\n    reflow(box) {\n        const { vertical, gap, spacing } = this.options;\n        const children = this.children;\n        const count = children.length;\n        const axis = vertical ? Y : X;\n        const slots = count + gap + (spacing * (count - 1));\n        const slotSize = (vertical ? box.height() : box.width()) / slots;\n        let position = box[axis + 1] + slotSize * (gap / 2);\n\n        for (let i = 0; i < count; i++) {\n            const childBox = (children[i].box || box).clone();\n\n            childBox[axis + 1] = position;\n            childBox[axis + 2] = position + slotSize;\n\n            children[i].reflow(childBox);\n            if (i < count - 1) {\n                position += (slotSize * spacing);\n            }\n\n            position += slotSize;\n        }\n    }\n}\n\nsetDefaultOptions(ClusterLayout, {\n    vertical: false,\n    gap: 0,\n    spacing: 0\n});\n\nexport default ClusterLayout;"],"names":["const","let"],"mappings":"AAAA,SAAS,YAAY,QAAQ,YAAY,CAAC;;AAE1C,SAAS,CAAC,EAAE,CAAC,QAAQ,wBAAwB,CAAC;AAC9C,SAAS,iBAAiB,QAAQ,cAAc,CAAC;;AAEjD,IAAM,aAAa,GAAqB;IAAC;;;;;;;;IAAA,AACrC,wBAAA,MAAM,mBAAA,CAAC,GAAG,EAAE;QACR,AAAK,AAA2B,OAAA,GAAG,IAAI,CAAC,OAAO;QAAvC,IAAA,QAAQ;QAAE,IAAA,GAAG;QAAE,IAAA,OAAO,eAAxB,AAAU,AAAK,AAAS,AAAiB,AAAC;QAChDA,GAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/BA,GAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC9BA,GAAK,CAAC,IAAI,GAAG,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;QAC9BA,GAAK,CAAC,KAAK,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC,OAAO,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;QACpDA,GAAK,CAAC,QAAQ,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC;QACjEC,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;;QAEpD,KAAKA,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;YAC5BD,GAAK,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC;;YAElD,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC;YAC9B,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,QAAQ,GAAG,QAAQ,CAAC;;YAEzC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAC7B,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE;gBACf,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC;aACpC;;YAED,QAAQ,IAAI,QAAQ,CAAC;SACxB;KACJ,CAAA,AACJ;;;EAxB2B,YAwB3B,GAAA;;AAED,iBAAiB,CAAC,aAAa,EAAE;IAC7B,QAAQ,EAAE,KAAK;IACf,GAAG,EAAE,CAAC;IACN,OAAO,EAAE,CAAC;CACb,CAAC,CAAC;;AAEH,eAAe,aAAa"}