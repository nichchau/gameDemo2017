{"version":3,"file":"donut-segment.js","sources":["donut-segment.js"],"sourcesContent":["import PieSegment from '../pie-chart/pie-segment';\nimport PointEventsMixin from '../mixins/point-events-mixin';\n\nimport { PIE } from '../constants';\n\nimport { ShapeBuilder, Box } from '../../core';\n\nimport { CENTER } from '../../common/constants';\nimport { deepExtend, setDefaultOptions } from '../../common';\n\nclass DonutSegment extends PieSegment {\n    reflowLabel() {\n        const { options: { labels: labelsOptions }, label } = this;\n        const sector = this.sector.clone();\n        const angle = sector.middle();\n\n        if (label) {\n            const labelHeight = label.box.height();\n            if (labelsOptions.position === CENTER) {\n                sector.radius -= (sector.radius - sector.innerRadius) / 2;\n\n                const lp = sector.point(angle);\n\n                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n            } else {\n                super.reflowLabel();\n            }\n        }\n    }\n\n    createSegment(sector, options) {\n        return ShapeBuilder.current.createRing(sector, options);\n    }\n}\n\nsetDefaultOptions(DonutSegment, {\n    overlay: {\n        gradient: \"roundedGlass\"\n    },\n    labels: {\n        position: CENTER\n    },\n    animation: {\n        type: PIE\n    }\n});\n\ndeepExtend(DonutSegment.prototype, PointEventsMixin);\n\n\nexport default DonutSegment;\n"],"names":["const","super"],"mappings":"AAAA,OAAO,UAAU,MAAM,0BAA0B,CAAC;AAClD,OAAO,gBAAgB,MAAM,8BAA8B,CAAC;;AAE5D,SAAS,GAAG,QAAQ,cAAc,CAAC;;AAEnC,SAAS,YAAY,EAAE,GAAG,QAAQ,YAAY,CAAC;;AAE/C,SAAS,MAAM,QAAQ,wBAAwB,CAAC;AAChD,SAAS,UAAU,EAAE,iBAAiB,QAAQ,cAAc,CAAC;;AAE7D,IAAM,YAAY,GAAmB;IAAC;;;;;;;;IAAA,AAClC,uBAAA,WAAW,wBAAA,GAAG;QACV,AAAK,AAA8C,OAAA,GAAG,IAAI;QAA/B,IAAA,aAAa;QAAI,IAAA,KAAK,aAA3C,AAAW,AAAuB,AAAE,AAAO,AAAS,AAAC;QAC3DA,GAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACnCA,GAAK,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;;QAE9B,IAAI,KAAK,EAAE;YACPA,GAAK,CAAC,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;YACvC,IAAI,aAAa,CAAC,QAAQ,KAAK,MAAM,EAAE;gBACnC,MAAM,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;;gBAE1DA,GAAK,CAAC,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;;gBAE/B,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,WAAW,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aACnE,MAAM;gBACHC,oBAAK,CAAC,WAAW,KAAA,CAAC,IAAA,CAAC,CAAC;aACvB;SACJ;KACJ,CAAA;;IAED,uBAAA,aAAa,0BAAA,CAAC,MAAM,EAAE,OAAO,EAAE;QAC3B,OAAO,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;KAC3D,CAAA,AACJ;;;EAvB0B,UAuB1B,GAAA;;AAED,iBAAiB,CAAC,YAAY,EAAE;IAC5B,OAAO,EAAE;QACL,QAAQ,EAAE,cAAc;KAC3B;IACD,MAAM,EAAE;QACJ,QAAQ,EAAE,MAAM;KACnB;IACD,SAAS,EAAE;QACP,IAAI,EAAE,GAAG;KACZ;CACJ,CAAC,CAAC;;AAEH,UAAU,CAAC,YAAY,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;;;AAGrD,eAAe,YAAY,CAAC;"}