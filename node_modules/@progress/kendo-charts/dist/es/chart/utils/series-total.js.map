{"version":3,"file":"series-total.js","sources":["series-total.js"],"sourcesContent":["import SeriesBinder from '../series-binder';\n\nimport { isNumber, isString } from '../../common';\nimport segmentVisible from './segment-visible';\n\nexport default function seriesTotal(series) {\n    const data = series.data;\n    let sum = 0;\n\n    for (let i = 0; i < data.length; i++) {\n        const pointData = SeriesBinder.current.bindPoint(series, i);\n        let value = pointData.valueFields.value;\n\n        if (isString(value)) {\n            value = parseFloat(value);\n        }\n\n        const visible = segmentVisible(series, pointData.fields, i);\n        if (isNumber(value) && visible !== false) {\n            sum += Math.abs(value);\n        }\n    }\n\n    return sum;\n}\n"],"names":["const","let"],"mappings":"AAAA,OAAO,YAAY,MAAM,kBAAkB,CAAC;;AAE5C,SAAS,QAAQ,EAAE,QAAQ,QAAQ,cAAc,CAAC;AAClD,OAAO,cAAc,MAAM,mBAAmB,CAAC;;AAE/C,eAAe,SAAS,WAAW,CAAC,MAAM,EAAE;IACxCA,GAAK,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;IACzBC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;;IAEZ,KAAKA,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAClCD,GAAK,CAAC,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC5DC,GAAG,CAAC,KAAK,GAAG,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC;;QAExC,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;YACjB,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;SAC7B;;QAEDD,GAAK,CAAC,OAAO,GAAG,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC5D,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,OAAO,KAAK,KAAK,EAAE;YACtC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SAC1B;KACJ;;IAED,OAAO,GAAG,CAAC;CACd;"}