{"version":3,"file":"range-bar-chart.js","sources":["range-bar-chart.js"],"sourcesContent":["import BarChart from '../bar-chart/bar-chart';\nimport RangeBar from './range-bar';\nimport CategoricalChart from '../categorical-chart';\n\nimport { MIN_VALUE, MAX_VALUE } from '../../common/constants';\nimport { isNumber } from '../../common';\n\nclass RangeBarChart extends BarChart {\n    pointType() {\n        return RangeBar;\n    }\n\n    pointValue(data) {\n        return data.valueFields;\n    }\n\n    formatPointValue(point, format) {\n        if (point.value.from === null && point.value.to === null) {\n            return \"\";\n        }\n\n        return this.chartService.format.auto(format, point.value.from, point.value.to);\n    }\n\n    plotRange(point) {\n        if (!point) {\n            return 0;\n        }\n\n        return [ point.value.from, point.value.to ];\n    }\n\n    updateRange(value, fields) {\n        const axisName = fields.series.axis;\n        const { from, to } = value;\n        let axisRange = this.valueAxisRanges[axisName];\n\n        if (value !== null && isNumber(from) && isNumber(to)) {\n            axisRange = this.valueAxisRanges[axisName] = axisRange || { min: MAX_VALUE, max: MIN_VALUE };\n\n            axisRange.min = Math.min(axisRange.min, from);\n            axisRange.max = Math.max(axisRange.max, from);\n\n            axisRange.min = Math.min(axisRange.min, to);\n            axisRange.max = Math.max(axisRange.max, to);\n        }\n    }\n\n    aboveAxis(point) {\n        const value = point.value;\n        return value.from < value.to;\n    }\n}\n\nRangeBarChart.prototype.plotLimits = CategoricalChart.prototype.plotLimits;\n\nexport default RangeBarChart;"],"names":["const","let"],"mappings":"AAAA,OAAO,QAAQ,MAAM,wBAAwB,CAAC;AAC9C,OAAO,QAAQ,MAAM,aAAa,CAAC;AACnC,OAAO,gBAAgB,MAAM,sBAAsB,CAAC;;AAEpD,SAAS,SAAS,EAAE,SAAS,QAAQ,wBAAwB,CAAC;AAC9D,SAAS,QAAQ,QAAQ,cAAc,CAAC;;AAExC,IAAM,aAAa,GAAiB;IAAC;;;;;;;;IAAA,AACjC,wBAAA,SAAS,sBAAA,GAAG;QACR,OAAO,QAAQ,CAAC;KACnB,CAAA;;IAED,wBAAA,UAAU,uBAAA,CAAC,IAAI,EAAE;QACb,OAAO,IAAI,CAAC,WAAW,CAAC;KAC3B,CAAA;;IAED,wBAAA,gBAAgB,6BAAA,CAAC,KAAK,EAAE,MAAM,EAAE;QAC5B,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE,KAAK,IAAI,EAAE;YACtD,OAAO,EAAE,CAAC;SACb;;QAED,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KAClF,CAAA;;IAED,wBAAA,SAAS,sBAAA,CAAC,KAAK,EAAE;QACb,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,CAAC,CAAC;SACZ;;QAED,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC;KAC/C,CAAA;;IAED,wBAAA,WAAW,wBAAA,CAAC,KAAK,EAAE,MAAM,EAAE;QACvBA,GAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;QACpC,AAAK,AAAG,IAAA,IAAI;QAAE,IAAA,EAAE,YAAV,AAAM,AAAI,AAAE,AAAQ,AAAC;QAC3BC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;;QAE/C,IAAI,KAAK,KAAK,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE;YAClD,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,SAAS,IAAI,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC;;YAE7F,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;YAC9C,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;YAE9C,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;YAC5C,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;SAC/C;KACJ,CAAA;;IAED,wBAAA,SAAS,sBAAA,CAAC,KAAK,EAAE;QACbD,GAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QAC1B,OAAO,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC;KAChC,CAAA,AACJ;;;EA7C2B,QA6C3B,GAAA;;AAED,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC;;AAE3E,eAAe,aAAa"}