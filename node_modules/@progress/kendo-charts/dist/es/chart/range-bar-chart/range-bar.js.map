{"version":3,"file":"range-bar.js","sources":["range-bar.js"],"sourcesContent":["import Bar from '../bar-chart/bar';\nimport BarLabel from '../bar-chart/bar-label';\n\nimport { deepExtend, getTemplate } from '../../common';\n\nclass RangeBar extends Bar {\n    createLabel() {\n        const labels = this.options.labels;\n        const fromOptions = deepExtend({}, labels, labels.from);\n        const toOptions = deepExtend({}, labels, labels.to);\n\n        if (fromOptions.visible) {\n            this.labelFrom = this._createLabel(fromOptions);\n            this.append(this.labelFrom);\n        }\n\n        if (toOptions.visible) {\n            this.labelTo = this._createLabel(toOptions);\n            this.append(this.labelTo);\n        }\n    }\n\n    _createLabel(options) {\n        const labelTemplate = getTemplate(options);\n        let labelText;\n\n        if (labelTemplate) {\n            labelText = labelTemplate({\n                dataItem: this.dataItem,\n                category: this.category,\n                value: this.value,\n                percentage: this.percentage,\n                runningTotal: this.runningTotal,\n                total: this.total,\n                series: this.series\n            });\n        } else {\n            labelText = this.formatValue(options.format);\n        }\n\n        return new BarLabel(labelText,\n            deepExtend({\n                vertical: this.options.vertical\n            },\n            options\n        ));\n    }\n\n    reflow(targetBox) {\n        this.render();\n\n        const { labelFrom, labelTo, value } = this;\n\n        this.box = targetBox;\n\n        if (labelFrom) {\n            labelFrom.options.aboveAxis = value.from > value.to;\n            labelFrom.reflow(targetBox);\n        }\n\n        if (labelTo) {\n            labelTo.options.aboveAxis = value.to > value.from;\n            labelTo.reflow(targetBox);\n        }\n\n        if (this.note) {\n            this.note.reflow(targetBox);\n        }\n    }\n}\n\nRangeBar.prototype.defaults = deepExtend({}, RangeBar.prototype.defaults, {\n    labels: {\n        format: \"{0} - {1}\"\n    },\n    tooltip: {\n        format: \"{1}\"\n    }\n});\n\nexport default RangeBar;"],"names":["const","let"],"mappings":"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"}