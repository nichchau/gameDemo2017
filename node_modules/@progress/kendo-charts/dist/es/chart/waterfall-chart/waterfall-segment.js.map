{"version":3,"file":"waterfall-segment.js","sources":["waterfall-segment.js"],"sourcesContent":["import { drawing as draw } from '@progress/kendo-drawing';\n\nimport { ChartElement } from '../../core';\n\nimport { FADEIN, INITIAL_ANIMATION_DURATION } from '../constants';\n\nimport { alignPathToPixel, setDefaultOptions } from '../../common';\n\nclass WaterfallSegment extends ChartElement {\n    constructor(from, to, series) {\n        super();\n\n        this.from = from;\n        this.to = to;\n        this.series = series;\n    }\n\n    linePoints() {\n        const from = this.from;\n        const { from: { box: fromBox }, to: { box: toBox } } = this;\n        const points = [];\n\n        if (from.isVertical) {\n            const y = from.aboveAxis ? fromBox.y1 : fromBox.y2;\n            points.push(\n                [ fromBox.x1, y ],\n                [ toBox.x2, y ]\n            );\n        } else {\n            const x = from.aboveAxis ? fromBox.x2 : fromBox.x1;\n            points.push(\n                [ x, fromBox.y1 ],\n                [ x, toBox.y2 ]\n            );\n        }\n\n        return points;\n    }\n\n    createVisual() {\n        super.createVisual();\n\n        const line = this.series.line || {};\n\n        const path = draw.Path.fromPoints(this.linePoints(), {\n            stroke: {\n                color: line.color,\n                width: line.width,\n                opacity: line.opacity,\n                dashType: line.dashType\n            }\n        });\n\n        alignPathToPixel(path);\n        this.visual.append(path);\n    }\n}\n\nsetDefaultOptions(WaterfallSegment, {\n    animation: {\n        type: FADEIN,\n        delay: INITIAL_ANIMATION_DURATION\n    }\n});\n\nexport default WaterfallSegment;"],"names":["super","const"],"mappings":"AAAA,SAAS,OAAO,IAAI,IAAI,QAAQ,yBAAyB,CAAC;;AAE1D,SAAS,YAAY,QAAQ,YAAY,CAAC;;AAE1C,SAAS,MAAM,EAAE,0BAA0B,QAAQ,cAAc,CAAC;;AAElE,SAAS,gBAAgB,EAAE,iBAAiB,QAAQ,cAAc,CAAC;;AAEnE,IAAM,gBAAgB,GAAqB;IAAC,AACxC,yBAAW,CAAC,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE;QAC1BA,YAAK,KAAA,CAAC,IAAA,CAAC,CAAC;;QAER,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB;;;;8DAAA;;IAED,2BAAA,UAAU,uBAAA,GAAG;QACTC,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,AAAK,AAA+C,OAAA,GAAG,IAAI;QAAtC,IAAA,OAAO;QAAe,IAAA,KAAK,cAA1C,AAAQ,AAAc,AAAE,AAAM,AAAY,AAAE,AAAS,AAAC;QAC5DA,GAAK,CAAC,MAAM,GAAG,EAAE,CAAC;;QAElB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjBA,GAAK,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;YACnD,MAAM,CAAC,IAAI;gBACP,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE;gBACjB,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,EAAE;aAClB,CAAC;SACL,MAAM;YACHA,GAAK,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;YACnD,MAAM,CAAC,IAAI;gBACP,EAAE,CAAC,EAAE,OAAO,CAAC,EAAE,EAAE;gBACjB,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE;aAClB,CAAC;SACL;;QAED,OAAO,MAAM,CAAC;KACjB,CAAA;;IAED,2BAAA,YAAY,yBAAA,GAAG;QACXD,sBAAK,CAAC,YAAY,KAAA,CAAC,IAAA,CAAC,CAAC;;QAErBC,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;;QAEpCA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;YACjD,MAAM,EAAE;gBACJ,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,QAAQ,EAAE,IAAI,CAAC,QAAQ;aAC1B;SACJ,CAAC,CAAC;;QAEH,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC5B,CAAA,AACJ;;;EAhD8B,YAgD9B,GAAA;;AAED,iBAAiB,CAAC,gBAAgB,EAAE;IAChC,SAAS,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,KAAK,EAAE,0BAA0B;KACpC;CACJ,CAAC,CAAC;;AAEH,eAAe,gBAAgB"}