{"version":3,"file":"text.js","sources":["text.js"],"sourcesContent":["import { drawing as draw } from '@progress/kendo-drawing';\n\nimport ChartElement from './chart-element';\nimport Box from './box';\n\nimport { DEFAULT_FONT, BLACK } from '../common/constants';\nimport { setDefaultOptions } from '../common';\n\nconst DrawingText = draw.Text;\n\nclass Text extends ChartElement {\n\n    constructor(content, options) {\n        super(options);\n\n        this.content = content;\n\n        // Calculate size\n        this.reflow(new Box());\n    }\n\n    reflow(targetBox) {\n        const options = this.options;\n        const size = options.size = draw.util.measureText(this.content, { font: options.font });\n\n        this.baseline = size.baseline;\n\n        this.box = new Box(targetBox.x1, targetBox.y1,\n                targetBox.x1 + size.width, targetBox.y1 + size.height);\n    }\n\n    createVisual() {\n        const { font, color, opacity, cursor } = this.options;\n\n        this.visual = new DrawingText(this.content, this.box.toRect().topLeft(), {\n            font: font,\n            fill: { color: color, opacity: opacity },\n            cursor: cursor\n        });\n    }\n}\n\nsetDefaultOptions(Text, {\n    font: DEFAULT_FONT,\n    color: BLACK\n});\n\nexport default Text;\n"],"names":["const","super"],"mappings":"AAAA,SAAS,OAAO,IAAI,IAAI,QAAQ,yBAAyB,CAAC;;AAE1D,OAAO,YAAY,MAAM,iBAAiB,CAAC;AAC3C,OAAO,GAAG,MAAM,OAAO,CAAC;;AAExB,SAAS,YAAY,EAAE,KAAK,QAAQ,qBAAqB,CAAC;AAC1D,SAAS,iBAAiB,QAAQ,WAAW,CAAC;;AAE9CA,GAAK,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;;AAE9B,IAAM,IAAI,GAAqB;IAAC,AAE5B,aAAW,CAAC,OAAO,EAAE,OAAO,EAAE;QAC1BC,YAAK,KAAA,CAAC,MAAA,OAAO,CAAC,CAAC;;QAEf,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;;QAGvB,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;KAC1B;;;;sCAAA;;IAED,eAAA,MAAM,mBAAA,CAAC,SAAS,EAAE;QACdD,GAAK,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7BA,GAAK,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;;QAExF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;;QAE9B,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;gBACrC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;KAClE,CAAA;;IAED,eAAA,YAAY,yBAAA,GAAG;QACX,AAAK,AAAiC,OAAA,GAAG,IAAI,CAAC,OAAO;QAA7C,IAAA,IAAI;QAAE,IAAA,KAAK;QAAE,IAAA,OAAO;QAAE,IAAA,MAAM,cAA9B,AAAM,AAAO,AAAS,AAAQ,AAAiB,AAAC;;QAEtD,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,EAAE;YACrE,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;YACxC,MAAM,EAAE,MAAM;SACjB,CAAC,CAAC;KACN,CAAA,AACJ;;;EA9BkB,YA8BlB,GAAA;;AAED,iBAAiB,CAAC,IAAI,EAAE;IACpB,IAAI,EAAE,YAAY;IAClB,KAAK,EAAE,KAAK;CACf,CAAC,CAAC;;AAEH,eAAe,IAAI,CAAC;"}