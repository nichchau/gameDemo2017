{"version":3,"file":"auto-major-unit.js","sources":["auto-major-unit.js"],"sourcesContent":["import { DEFAULT_PRECISION } from '../../common/constants';\nimport { round } from '../../common';\n\nexport default function autoMajorUnit(min, max) {\n    let diff = round(max - min, DEFAULT_PRECISION - 1);\n\n    if (diff === 0) {\n        if (max === 0) {\n            return 0.1;\n        }\n\n        diff = Math.abs(max);\n    }\n\n    const scale = Math.pow(10, Math.floor(Math.log(diff) / Math.log(10)));\n    const relativeValue = round((diff / scale), DEFAULT_PRECISION);\n    let scaleMultiplier = 1;\n\n    if (relativeValue < 1.904762) {\n        scaleMultiplier = 0.2;\n    } else if (relativeValue < 4.761904) {\n        scaleMultiplier = 0.5;\n    } else if (relativeValue < 9.523809) {\n        scaleMultiplier = 1;\n    } else {\n        scaleMultiplier = 2;\n    }\n\n    return round(scale * scaleMultiplier, DEFAULT_PRECISION);\n}"],"names":["let","const"],"mappings":"AAAA,SAAS,iBAAiB,QAAQ,wBAAwB,CAAC;AAC3D,SAAS,KAAK,QAAQ,cAAc,CAAC;;AAErC,eAAe,SAAS,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE;IAC5CA,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,iBAAiB,GAAG,CAAC,CAAC,CAAC;;IAEnD,IAAI,IAAI,KAAK,CAAC,EAAE;QACZ,IAAI,GAAG,KAAK,CAAC,EAAE;YACX,OAAO,GAAG,CAAC;SACd;;QAED,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACxB;;IAEDC,GAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACtEA,GAAK,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE,iBAAiB,CAAC,CAAC;IAC/DD,GAAG,CAAC,eAAe,GAAG,CAAC,CAAC;;IAExB,IAAI,aAAa,GAAG,QAAQ,EAAE;QAC1B,eAAe,GAAG,GAAG,CAAC;KACzB,MAAM,IAAI,aAAa,GAAG,QAAQ,EAAE;QACjC,eAAe,GAAG,GAAG,CAAC;KACzB,MAAM,IAAI,aAAa,GAAG,QAAQ,EAAE;QACjC,eAAe,GAAG,CAAC,CAAC;KACvB,MAAM;QACH,eAAe,GAAG,CAAC,CAAC;KACvB;;IAED,OAAO,KAAK,CAAC,KAAK,GAAG,eAAe,EAAE,iBAAiB,CAAC,CAAC;"}