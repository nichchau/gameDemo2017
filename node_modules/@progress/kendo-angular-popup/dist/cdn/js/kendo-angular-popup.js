!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("rxjs/Observable"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/operator/auditTime"),require("rxjs/add/observable/merge"),require("@angular/common")):"function"==typeof define&&define.amd?define(["@angular/core","rxjs/Observable","rxjs/add/observable/fromEvent","rxjs/add/operator/auditTime","rxjs/add/observable/merge","@angular/common"],t):"object"==typeof exports?exports.KendoAngularPopup=t(require("@angular/core"),require("rxjs/Observable"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/operator/auditTime"),require("rxjs/add/observable/merge"),require("@angular/common")):e.KendoAngularPopup=t(e["@angular/core"],e["rxjs/Observable"],e["rxjs/add/observable/fromEvent"],e["rxjs/add/operator/auditTime"],e["rxjs/add/observable/merge"],e["@angular/common"])}(this,function(e,t,n,o,i,r){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.PopupComponent=o.PopupComponent;var i=n(14);t.PopupModule=i.PopupModule},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(3),l=n(4),c=n(7),a=n(8),f=n(12),u=n(6),p={left:0,top:0},d=function(){function e(e,t,n,o,i,s,l){this._alignService=e,this.container=t,this._cdr=n,this._positionService=o,this._resizeService=i,this._scrollableService=s,this._renderer=l,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.offset=p,this.anchorViewportLeave=new r.EventEmitter,this.close=new r.EventEmitter,this.open=new r.EventEmitter,this.direction="down",this.currentOffset=p,this.resolvedPromised=Promise.resolve(null),this._renderer.setElementClass(t.nativeElement,"k-animation-container",!0),this._renderer.setElementClass(t.nativeElement,"k-animation-container-fixed",!0)}return Object.defineProperty(e.prototype,"offsetLeft",{get:function(){return this.currentOffset.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetTop",{get:function(){return this.currentOffset.top},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.reposition.bind(this);this._resizeService.subscribe(e),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this))},e.prototype.ngAfterViewChecked=function(){var e=this;if(u.isDocumentAvailable()){var t=this.position(),n=t.flipped,o=t.offset,i=this.getDirection(n);(this.direction!==i||u.isDifferentOffset(this.currentOffset,o))&&this.resolvedPromised.then(function(){e.currentOffset=o,e.direction=i,e._cdr.markForCheck()})}},e.prototype.ngOnDestroy=function(){this.close.emit(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe()},e.prototype.triggerOpen=function(){this._renderer.setElementClass(this.container.nativeElement,"k-animation-container-shown",!0),this.open.emit()},e.prototype.reposition=function(){if(u.isDocumentAvailable()){var e=this.position(),t=e.flipped,n=e.offset;this.direction=this.getDirection(t),this.currentOffset=n}},e.prototype.position=function(){var e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,offset:this.offset});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign})},e.prototype.getDirection=function(e){return this.animate?e?"up":"down":"none"},e.prototype.onScroll=function(e){e?this.reposition():this.anchorViewportLeave.emit()},e}();o([r.Input(),i("design:type",Boolean)],d.prototype,"animate",void 0),o([r.Input(),i("design:type",r.ElementRef)],d.prototype,"anchor",void 0),o([r.Input(),i("design:type",Object)],d.prototype,"anchorAlign",void 0),o([r.Input(),i("design:type",Object)],d.prototype,"collision",void 0),o([r.Input(),i("design:type",Object)],d.prototype,"popupAlign",void 0),o([r.Input(),i("design:type",Object)],d.prototype,"popupClass",void 0),o([r.Input(),i("design:type",Object)],d.prototype,"offset",void 0),o([r.Output(),i("design:type",r.EventEmitter)],d.prototype,"anchorViewportLeave",void 0),o([r.Output(),i("design:type",r.EventEmitter)],d.prototype,"close",void 0),o([r.Output(),i("design:type",r.EventEmitter)],d.prototype,"open",void 0),o([r.HostBinding("style.left.px"),i("design:type",Number),i("design:paramtypes",[])],d.prototype,"offsetLeft",null),o([r.HostBinding("style.top.px"),i("design:type",Number),i("design:paramtypes",[])],d.prototype,"offsetTop",null),d=o([r.Component({animations:[r.trigger("toggle",[r.transition("void => down, up => down",[r.style({transform:"translateY(-100%)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(0)"}))]),r.transition("down => void",[r.style({transform:"translateY(0)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(-100%)"}))]),r.transition("void => up, down => up",[r.style({transform:"translateY(100%)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(0)"}))]),r.transition("up => void",[r.style({transform:"translateY(0)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(100%)"}))])])],exportAs:"kendo-popup",providers:[s.AlignService,l.DOMService,c.PositionService,a.ResizeService,f.ScrollableService],selector:"kendo-popup",template:'\n        <div class="k-popup" [ngClass]="popupClass" [@toggle]="direction" (@toggle.done)="triggerOpen()">\n            <ng-content></ng-content>\n        </div>\n     '}),i("design:paramtypes",[s.AlignService,r.ElementRef,r.ChangeDetectorRef,c.PositionService,a.ResizeService,f.ScrollableService,r.Renderer])],d),t.PopupComponent=d},function(t,n){t.exports=e},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(4),l=n(6),c=function(){function e(e){this._dom=e}return e.prototype.alignElement=function(e){var t=e.anchor,n=e.element,o=e.anchorAlign,i=e.elementAlign,r=e.offset,s=this._dom,c=s.offset(n),a=s.stackingElementOffset(t||n),f=l.eitherRect(s.offset(t),r);return f=l.removeStackingOffset(f,a),t||(f=s.removeScroll(f,s.scrollPosition(n))),this._dom.align({anchorAlign:o,anchorRect:f,elementAlign:i,elementRect:c})},e}();c=o([r.Injectable(),i("design:paramtypes",[s.DOMService])],c),t.AlignService=c},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=n(5),s=n(6),l=function(){function e(){}return e.prototype.addOffset=function(e,t){return{left:e.left+t.left,top:e.top+t.top}},e.prototype.align=function(e){return r.align(e)},e.prototype.boundingOffset=function(e){return r.boundingOffset(this.nativeElement(e))},e.prototype.getWindow=function(){return s.isWindowAvailable()?window:null},e.prototype.isBodyOffset=function(e){return r.isBodyOffset(this.nativeElement(e))},e.prototype.offset=function(e){return e?r.offset(this.nativeElement(e)):null},e.prototype.staticOffset=function(e){if(!e)return null;var t=this.nativeElement(e),n=t.style,o=n.left,i=n.top;t.style.left="0px",t.style.top="0px";var s=r.offset(t);return t.style.left=o,t.style.top=i,s},e.prototype.nativeElement=function(e){return e?e.nativeElement||e:null},e.prototype.position=function(e){return e?r.position(this.nativeElement(e)):null},e.prototype.relativeOffset=function(e,t){return r.applyLocationOffset(this.offset(e),t,this.isBodyOffset(e))},e.prototype.removeScroll=function(e,t){return r.removeScroll(e,t)},e.prototype.restrictToView=function(e){return r.restrictToView(e)},e.prototype.scrollPosition=function(e){return r.scrollPosition(this.nativeElement(e))},e.prototype.scrollableParents=function(e){return s.scrollableParents(this.nativeElement(e))},e.prototype.stackingElementOffset=function(e){var t=this.getRelativeContextElement(e);return t?r.offset(t):null},e.prototype.getRelativeContextElement=function(e){if(!e||!s.HAS_RELATIVE_STACKING_CONTEXT)return null;for(var t=this.nativeElement(e).parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null},e.prototype.useRelativePosition=function(e){return!!this.getRelativeContextElement(e)},e.prototype.windowViewPort=function(e){return r.getWindowViewPort(this.nativeElement(e))},e}();l=o([i.Injectable()],l),t.DOMService=l},function(e,t){"use strict";function n(e,t,n){var o=e.top,i=e.left;return n&&(i=0,o=0),{top:o+t.top,left:i+t.left,height:e.height,width:e.width}}function o(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}function i(e){var t=f(e),n=m(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}function r(e){var t=m(e);return{height:t.innerHeight,width:t.innerWidth}}Object.defineProperty(t,"__esModule",{value:!0});var s={bottom:"bottom",center:"center",middle:"middle",left:"left",right:"right",top:"top"},l=function(e){var t=e.anchorRect,n=e.anchorAlign,o=e.elementRect,i=e.elementAlign,r=n.horizontal,l=n.vertical,c=i.horizontal,a=i.vertical,f=t.top,u=t.left;return l===s.bottom&&(f+=t.height),l!==s.center&&l!==s.middle||(f+=Math.round(t.height/2)),a===s.bottom&&(f-=o.height),a!==s.center&&a!==s.middle||(f-=Math.round(o.height/2)),r===s.right&&(u+=t.width),r!==s.center&&r!==s.middle||(u+=Math.round(t.width/2)),c===s.right&&(u-=o.width),c!==s.center&&c!==s.middle||(u-=Math.round(o.width/2)),{top:f,left:u}},c=function(e){if(!e.getBoundingClientRect)return{bottom:e.innerHeight,left:0,right:e.innerWidth,top:0};var t=e.getBoundingClientRect(),n=t.bottom,o=t.left,i=t.right,r=t.top;return{bottom:n,left:o,right:i,top:r}},a={fit:"fit",flip:"flip"},f=function(e){return e.ownerDocument.documentElement},u=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||f(e)},p=function(e){return u(e)===e.ownerDocument.body},d=function(e){var t=e.style,n=t.display,o=t.left,i=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var r=e.getBoundingClientRect();return e.style.display=n,e.style.left=o,e.style.position=i,r},h=function(e){var t=e.getBoundingClientRect(),n=t.left,o=t.top;return t.height||t.width||(t=d(e)),{top:o,left:n,height:t.height,width:t.width}},m=function(e){return e.ownerDocument.defaultView},v=function(e){var t=m(e),n=t.getComputedStyle(e),o=h(e),i=u(e),r=t.getComputedStyle(i),s={top:0,left:0};return"fixed"!==n.position&&i!==e.ownerDocument.body&&(s=h(i),s.top+=parseInt(r.borderTopWidth,10),s.left+=parseInt(r.borderLeftWidth,10)),{top:o.top-s.top-parseInt(n.marginTop,10),left:o.left-s.left-parseInt(n.marginLeft,10),height:o.height,width:o.width}},g=function(e,t,n){var o=0;return e+t>n&&(o=n-(e+t)),e<0&&(o=-e),o},b=function(e){var t=e.offset,n=e.size,o=e.anchorSize,i=e.viewPortSize,r=e.anchorAlignPoint,l=e.elementAlignPoint,c=0,a=l===s.center||l===s.middle,f=r===s.center||r===s.middle;return l===r||a||f||(t+n>i&&(c+=-(o+n)),t+c<0&&(c+=o+n)),c},y=function(e){var t=e.anchorRect,n=e.anchorAlign,o=e.elementRect,i=e.elementAlign,r=e.collisions,s=e.viewPort,l=o.top,c=o.left,f=o.height,u=o.width,p=s.height,d=s.width,h=0,m=0,v=r.horizontal===a.flip,y=r.vertical===a.flip;return r.vertical===a.fit&&(m+=g(l,f,p)),r.horizontal===a.fit&&(h+=g(c,u,d)),y&&(m+=b({offset:l,size:f,anchorSize:t.height,viewPortSize:p,anchorAlignPoint:n.vertical,elementAlignPoint:i.vertical})),v&&(h+=b({offset:c,size:u,anchorSize:t.width,viewPortSize:d,anchorAlignPoint:n.horizontal,elementAlignPoint:i.horizontal})),{flipped:v&&0!==h||y&&0!==m,offset:{left:h,top:m}}};t.align=l,t.AlignPoint=s,t.applyLocationOffset=n,t.boundingOffset=c,t.Collision=a,t.getDocumentElement=f,t.isBodyOffset=p,t.offsetParent=u,t.offset=h,t.position=v,t.removeScroll=o,t.restrictToView=y,t.scrollPosition=i,t.getWindow=m,t.getWindowViewPort=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eitherRect=function(e,t){return e?e:{height:0,left:t.left,top:t.top,width:0}},t.replaceOffset=function(e,t){if(!t)return e;var n={height:e.height,left:t.left,top:t.top,width:e.width};return n},t.removeStackingOffset=function(e,t){if(!t)return e;var n={height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width};return n},t.isDifferentOffset=function(e,t){var n=e.left,o=e.top,i=t.left,r=t.top;return Math.abs(n-i)>=1||Math.abs(o-r)>=1},t.isDocumentAvailable=function(){return"undefined"!=typeof document&&!!document.body},t.isWindowAvailable=function(){return"undefined"!=typeof window},t.hasBoundingRect=function(e){return!!e.getBoundingClientRect},t.OVERFLOW_REGEXP=/auto|scroll/,t.scrollableParents=function(e){var n=[];if(!t.isDocumentAvailable()||!t.isWindowAvailable())return n;for(var o=e.parentElement;o;)t.OVERFLOW_REGEXP.test(window.getComputedStyle(o).overflow)&&n.push(o),o=o.parentElement;return n.push(window),n},t.FRAME_DURATION=1e3/60,t.hasRelativeStackingContext=function(){if(!t.isDocumentAvailable())return!1;var e=10,n=document.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: '+e+'px;">child</div>',document.body.appendChild(n);var o=n.children[0].getBoundingClientRect().top!==e;return document.body.removeChild(n),o},t.HAS_RELATIVE_STACKING_CONTEXT=t.hasRelativeStackingContext()},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(4),l=n(6),c=function(){function e(e){this._dom=e}return e.prototype.positionElement=function(e){var t=e.anchor,n=e.currentLocation,o=e.element,i=e.anchorAlign,r=e.elementAlign,s=e.collisions,c=this._dom.useRelativePosition(o),a=e.viewPort||this._dom.windowViewPort(o),f=l.eitherRect(this._dom.offset(t),n),u=c?null:n,p=c?n:null,d=l.replaceOffset(this._dom.staticOffset(o),u),h=this._dom.restrictToView({anchorAlign:i,anchorRect:f,collisions:s,elementAlign:r,elementRect:d,viewPort:a});return{flipped:h.flipped,offset:this._dom.addOffset(l.replaceOffset(d,p),h.offset)}},e}();c=o([r.Injectable(),i("design:paramtypes",[s.DOMService])],c),t.PositionService=c},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(9);n(10),n(11);var l=n(6),c=n(4),a=function(){function e(e,t){this._dom=e,this._zone=t}return e.prototype.subscribe=function(e){var t=this;l.isDocumentAvailable()&&this._zone.runOutsideAngular(function(){t.subscription=s.Observable.fromEvent(t._dom.getWindow(),"resize").auditTime(l.FRAME_DURATION).subscribe(function(){return t._zone.run(function(){return e()})})})},e.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.isUnsubscribed=function(){return this.subscription&&this.subscription.closed},e}();a=o([r.Injectable(),i("design:paramtypes",[c.DOMService,r.NgZone])],a),t.ResizeService=a},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(9);n(10),n(13),n(11);var l=n(4),c=n(6),a=function(){function e(e,t){this._dom=e,this._zone=t}return e.prototype.forElement=function(e){return this.unsubscribe(),this.element=e,this},e.prototype.subscribe=function(e){var t=this;if(e&&c.isDocumentAvailable()&&this.element){var n=this._dom.nativeElement(this.element),o=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(function(){var i=o.map(function(e){return s.Observable.fromEvent(e,"scroll").auditTime(c.FRAME_DURATION)}),r=function(o){return t._zone.run(function(){return e(t.isVisible(n,o.target))})};t.subscription=s.Observable.merge.apply(s.Observable,i).subscribe(r)})}},e.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.isVisible=function(e,t){var n=this._dom.boundingOffset(e),o=this._dom.boundingOffset(t);return!(n.bottom<o.top)&&(!(n.bottom>o.bottom)&&(!(n.right>o.right)&&!(n.left<o.left)))},e}();a=o([r.Injectable(),i("design:paramtypes",[l.DOMService,r.NgZone])],a),t.ScrollableService=a},function(e,t){e.exports=i},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=n(15),s=n(1),l=[s.PopupComponent],c=function(){function e(){}return e}();c=o([i.NgModule({declarations:[l],exports:[l],imports:[r.CommonModule]})],c),t.PopupModule=c},function(e,t){e.exports=r}])});